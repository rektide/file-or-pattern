{"id":"fop-1bu","title":"Update test runner to nextest","description":"Migrate from the current test runner to nextest for improved test performance and features.","design":"Nextest provides:\n- Faster test execution through parallelization\n- Better test output formatting\n- Per-test timeout configuration\n- Test partitioning for CI/CD\n\nMigration steps:\n1. Install nextest as dev dependency\n2. Configure nextest settings in .config/nextest.toml\n3. Update CI workflows to use nextest\n4. Verify all tests pass with new runner\n\n**IMPORTANT**: During this migration, also move tests out of source files into separate test modules (tests/ directory or mod.rs files) to improve code organization and maintainability.","acceptance_criteria":"- nextest installed and configured\n- All tests pass with `cargo nextest run`\n- CI updated to use nextest\n- Documentation updated if needed","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T02:36:45.464266933-05:00","updated_at":"2026-01-16T06:47:51.884229714-05:00","closed_at":"2026-01-16T06:47:51.884229714-05:00","close_reason":"Completed nextest migration - installed cargo-nextest, configured .config/nextest.toml, all 43 tests passing"}
{"id":"fop-basic-proc","title":"fop-basic-proc: Basic Processors Implementation","description":"Implement the core processors that form the foundation of every pipeline.\n\nThese processors handle the most fundamental operations: parsing input, checking file existence, and expanding patterns. They are used in both SimplePipeline and EREbPipeline.\n\n**Components:**\n- ParserProcessor: converts user strings into Fop objects with file_or_pattern field\n- CheckExistProcessor: checks filesystem and adds filename field if path exists\n- TinyGlobbyProcessor: expands glob patterns and adds match_results and pattern fields\n\n**Technical Details:**\n- All processors accept Iterator\u003cItem = Fop\u003e and return Iterator\u003cItem = Fop\u003e\n- Use streaming iterator pattern, never block on completion\n- ParserProcessor creates new Fop objects, optionally validates existing ones\n- CheckExistProcessor uses Path::exists() for filesystem checks\n- TinyGlobbyProcessor uses glob/globset crate for pattern matching, skips FOPs with filename already set\n\n**Dependencies:**\n- Depends on fop-core for Fop struct and Processor trait\n- Needs glob or globset crate for pattern matching\n\n**Acceptance Criteria:**\n- ParserProcessor creates Fop with file_or_pattern field\n- CheckExistProcessor adds filename field when path exists\n- TinyGlobbyProcessor expands patterns and adds match_results and pattern fields\n- All processors work with iterator streams\n- Unit tests for each processor with various inputs\n- Integration test showing basic pipeline flow","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T01:36:47.080224226-05:00","updated_at":"2026-01-16T02:20:31.058901889-05:00","closed_at":"2026-01-16T02:20:31.058901889-05:00","close_reason":"Completed: All basic processors implemented. ParserProcessor, CheckExistProcessor, and TinyGlobbyProcessor all complete with comprehensive tests. Ready for next phase.","dependencies":[{"issue_id":"fop-basic-proc","depends_on_id":"fop-core","type":"blocks","created_at":"2026-01-16T01:44:13.324532048-05:00","created_by":"daemon"}]}
{"id":"fop-basic-proc-exist","title":"fop-basic-proc-exist: CheckExistProcessor","description":"Implement CheckExistProcessor for filesystem existence checking.\n\n**Components:**\n- CheckExistProcessor struct\n- Implementation of Processor trait\n- Filesystem existence check using Path::exists()\n- Adds filename field to Fop if path exists\n\n**Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e as input\n- Checks if file_or_pattern field value exists as a file/directory\n- If exists, adds filename field to Fop with resolved PathBuf\n- If doesn't exist, passes through without modification\n- Returns Iterator\u003cItem = Fop\u003e\n\n**Technical Details:**\n- Use std::path::PathBuf for filename field\n- Use Path::exists() for existence check\n- Optionally canonicalize the path\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- CheckExistProcessor adds filename when path exists\n- Passes through when path doesn't exist\n- Works with iterator streams\n- Unit tests for exist and non-existent paths\n- Handles absolute and relative paths","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:32.583648804-05:00","updated_at":"2026-01-16T02:17:08.392549397-05:00","closed_at":"2026-01-16T02:17:08.392549397-05:00","close_reason":"Completed: CheckExistProcessor implemented with filesystem checking, filename field population, and comprehensive tests","dependencies":[{"issue_id":"fop-basic-proc-exist","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:09.621358573-05:00","created_by":"daemon"},{"issue_id":"fop-basic-proc-exist","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:10.239208745-05:00","created_by":"daemon"},{"issue_id":"fop-basic-proc-exist","depends_on_id":"fop-basic-proc","type":"parent-child","created_at":"2026-01-16T01:43:35.205253842-05:00","created_by":"daemon"}]}
{"id":"fop-basic-proc-glob","title":"fop-basic-proc-glob: TinyGlobbyProcessor","description":"Implement TinyGlobbyProcessor for glob pattern expansion.\n\n**Components:**\n- TinyGlobbyProcessor struct\n- Integration with glob or globset crate\n- Pattern expansion and match_results population\n- Pattern attachment to Fop\n\n**Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e as input\n- Skips FOPs that already have filename field set (don't glob concrete files)\n- For FOPs without filename, treats file_or_pattern as a glob pattern\n- Expands pattern using glob crate\n- Adds match_results with Vec\u003cPathBuf\u003e of matched files\n- Adds pattern field with Pattern object\n- Returns Iterator\u003cItem = Fop\u003e (potentially multiple per input due to expansion)\n\n**Technical Details:**\n- Use glob or globset crate for pattern matching\n- Handle glob syntax errors gracefully\n- Support common glob patterns: *, **, ?, []\n- Flatten results - single input pattern produces multiple output FOPs\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n- Needs glob or globset crate\n\n**Acceptance Criteria:**\n- Expands glob patterns correctly\n- Skips FOPs with filename already set\n- Adds match_results and pattern fields\n- Handles invalid patterns gracefully\n- Unit tests for various glob patterns\n- Integration test with parser and check-exist processors","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:37.504957546-05:00","updated_at":"2026-01-16T02:20:23.58223213-05:00","closed_at":"2026-01-16T02:20:23.58223213-05:00","close_reason":"Completed: TinyGlobbyProcessor implemented with glob pattern expansion, match_results and pattern fields population, and comprehensive tests","dependencies":[{"issue_id":"fop-basic-proc-glob","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:10.897075518-05:00","created_by":"daemon"},{"issue_id":"fop-basic-proc-glob","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:11.478751012-05:00","created_by":"daemon"},{"issue_id":"fop-basic-proc-glob","depends_on_id":"fop-basic-proc","type":"parent-child","created_at":"2026-01-16T01:43:36.123882643-05:00","created_by":"daemon"}]}
{"id":"fop-basic-proc-parser","title":"fop-basic-proc-parser: ParserProcessor","description":"Implement ParserProcessor for converting user strings into Fop objects.\n\n**Components:**\n- ParserProcessor struct\n- Implementation of Processor trait\n- support for creating Fop with file_or_pattern field\n- Optional guard validation (throw if existing object doesn't have file_or_pattern)\n\n**Behavior:**\n- Accepts Iterator\u003cItem = String\u003e as input\n- Creates Fop objects with file_or_pattern field set to input string\n- If guard(true) and input is already an object, validate it has file_or_pattern\n- Returns Iterator\u003cItem = Fop\u003e\n\n**Implementation:**\n```rust\npub struct ParserProcessor {\n    guard: bool,\n}\n\nimpl ParserProcessor {\n    pub fn new() -\u003e Self;\n    pub fn guard(mut self, value: bool) -\u003e Self;\n}\n\nimpl Processor for ParserProcessor {\n    // Implementation\n}\n```\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- ParserProcessor creates Fop with file_or_pattern field\n- Guard validation works correctly\n- Works with iterator streams\n- Unit tests for basic parsing and guard scenarios","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:28.999319262-05:00","updated_at":"2026-01-16T02:00:27.237578211-05:00","closed_at":"2026-01-16T02:00:27.237578211-05:00","close_reason":"Completed: ParserProcessor implemented with guard option, parse_strings helper, and comprehensive tests","dependencies":[{"issue_id":"fop-basic-proc-parser","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:08.545140547-05:00","created_by":"daemon"},{"issue_id":"fop-basic-proc-parser","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:09.082516244-05:00","created_by":"daemon"},{"issue_id":"fop-basic-proc-parser","depends_on_id":"fop-basic-proc","type":"parent-child","created_at":"2026-01-16T01:43:34.563175369-05:00","created_by":"daemon"}]}
{"id":"fop-bound-timing","title":"fop-bound-timing: Bounding and Timing Infrastructure","description":"Implement resource pooling (bounding) and timestamping infrastructure.\n\nThese components enable advanced pipeline behavior: limiting concurrent execution to prevent system flooding, and measuring performance for monitoring and debugging.\n\n**Components:**\n- TarnBounderProcessor: uses resource pool to limit concurrent executions\n- Stamper trait: defines interface for generating supplemental execution information\n- PerformanceMeasureTimestamper: uses Instant for duration measurement\n- TrueTimestamper: trivial stamper that always resolves true\n\n**Technical Details:**\n- TarnBounderProcessor wraps other processors, limits parallelism using semaphore or thread pool\n- Stamper trait defines start() method returning StamperHandle with promise-like interface\n- PerformanceMeasureTimestamper uses std::time::Instant, supports start_namer and end_suffix_namer options\n- TrueTimestamper for testing scenarios where actual timing not needed\n\n**Options:**\n- TarnBounderProcessor: waitStamper(null), waitName('waitStamp')\n- PerformanceMeasureTimestamper: startNamer(fop generator), endSuffixNamer(fop generator or string literal)\n\n**Dependencies:**\n- Depends on fop-core\n- Depends on fop-basic-proc\n- Resource pooling: tokio::sync::Semaphore for async, custom thread pool for sync\n\n**Acceptance Criteria:**\n- TarnBounderProcessor limits concurrent execution to configured limit\n- Stamper trait defined with necessary methods\n- PerformanceMeasureTimestamper measures duration between start and end\n- TrueTimestamper resolves true immediately\n- All options configurable\n- Unit tests for bounding behavior\n- Benchmark tests showing performance impact","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-16T01:37:34.427265555-05:00","updated_at":"2026-01-16T01:37:34.427265555-05:00","dependencies":[{"issue_id":"fop-bound-timing","depends_on_id":"fop-core","type":"blocks","created_at":"2026-01-16T01:44:14.183340534-05:00","created_by":"daemon"},{"issue_id":"fop-bound-timing","depends_on_id":"fop-basic-proc","type":"blocks","created_at":"2026-01-16T01:44:15.54081262-05:00","created_by":"daemon"}]}
{"id":"fop-bound-timing-bounder","title":"fop-bound-timing-bounder: TarnBounderProcessor","description":"Implement TarnBounderProcessor for limiting concurrent execution.\n\n**Components:**\n- TarnBounderProcessor struct\n- Resource pooling mechanism (bounded semaphore/thread pool)\n- Wrapper for other processors with concurrency limiting\n- Wait timestamping support\n\n**Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e as input\n- Wraps an inner processor\n- Limits number of concurrent executions to configured limit\n- When limit reached, subsequent FOPs wait for a slot\n- Passes through input FOP to wrapped processor when slot available\n- Returns Iterator\u003cItem = Fop\u003e (bounded)\n\n**Options:**\n- pool_size: number of concurrent executions allowed\n- waitStamper: stamper for measuring wait time (null by default)\n- waitName: field name for wait timestamp (default 'waitStamp')\n\n**Technical Details:**\n- For async: use tokio::sync::Semaphore\n- For sync: use custom thread pool or channel-based limiter\n- Resource pool prevents system flooding\n- Wait stamper measures time spent waiting for available slot\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n- Resource pooling library (tokio or custom)\n\n**Acceptance Criteria:**\n- Limits concurrent execution to configured limit\n- Waits for slot when limit reached\n- Passes FOPs through correctly\n- waitStamper integration works\n- Works with iterator streams\n- Unit tests for bounding behavior\n- Unit tests showing concurrency limits respected\n- Benchmark tests demonstrating bounding","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:39:20.821398581-05:00","updated_at":"2026-01-16T01:39:20.821398581-05:00","dependencies":[{"issue_id":"fop-bound-timing-bounder","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:22.871021056-05:00","created_by":"daemon"},{"issue_id":"fop-bound-timing-bounder","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:23.245217957-05:00","created_by":"daemon"},{"issue_id":"fop-bound-timing-bounder","depends_on_id":"fop-bound-timing","type":"parent-child","created_at":"2026-01-16T01:43:40.438191163-05:00","created_by":"daemon"}]}
{"id":"fop-bound-timing-perf-stamper","title":"fop-bound-timing-perf-stamper: PerformanceMeasureTimestamper","description":"Implement PerformanceMeasureTimestamper for duration measurement.\n\n**Components:**\n- PerformanceMeasureTimestamper struct\n- Implementation of Stamper trait\n- std::time::Instant integration for duration\n- Start/end naming strategies\n\n**Behavior:**\n- start() creates StamperHandle with start time recorded\n- Uses std::time::Instant for timing\n- Supports startNamer option: strategy for generating performance mark name\n- Supports endSuffixNamer option: strategy for generating measure suffix\n- On resolve(), calculates duration and attaches to Fop\n- Returns PerformanceMeasure-like object\n\n**Options:**\n- startNamer: strategy generating name for start (fop passed, uses fileOrPattern by default with prefix)\n- endSuffixNamer: strategy generating suffix for end (fop passed, appends after '-' separator)\n- Can also be string literal for endSuffixNamer\n\n**Technical Details:**\n- Use std::time::Instant::now() for start time\n- Calculate duration as elapsed since start\n- Attach timestamp info to Fop.timestamp field\n- Start name generated from fop.file_or_pattern by default\n\n**Dependencies:**\n- Depends on fop-bound-timing-stamper-trait\n\n**Acceptance Criteria:**\n- Measures duration correctly\n- startNamer generates start names\n- endSuffixNamer generates end suffixes\n- Attaches timestamp info to Fop\n- Works with default naming strategies\n- Unit tests for duration measurement\n- Unit tests for naming strategies","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:39:55.893586158-05:00","updated_at":"2026-01-16T07:50:39.402785591-05:00","dependencies":[{"issue_id":"fop-bound-timing-perf-stamper","depends_on_id":"fop-bound-timing-stamper-trait","type":"blocks","created_at":"2026-01-16T01:42:26.855259491-05:00","created_by":"daemon"},{"issue_id":"fop-bound-timing-perf-stamper","depends_on_id":"fop-bound-timing","type":"parent-child","created_at":"2026-01-16T01:43:42.049756759-05:00","created_by":"daemon"}]}
{"id":"fop-bound-timing-stamper-trait","title":"fop-bound-timing-stamper-trait: Stamper Trait and Infrastructure","description":"Define the Stamper trait and supporting infrastructure.\n\n**Components:**\n- Stamper trait definition\n- StamperHandle/Deferrable type (Promise.withResolvers shaped)\n- Pattern for generating supplemental execution information\n\n**Stamper Trait:**\n```rust\npub trait Stamper: Send + Sync {\n    fn start(\n        \u0026self,\n        options: \u0026StamperOptions,\n        processor: \u0026dyn Processor,\n        fop: \u0026Fop\n    -\u003e StamperHandle;\n}\n```\n\n**StamperHandle:**\n- Promise-like structure with `.promise`, `.resolve()`, `.reject()`\n- Allows deferred completion of timestamping\n- Tracks start time and can calculate duration on completion\n\n**StamperOptions:**\n- processor: Option\u003c\u0026Processor\u003e (if set, use this and skip processor argument)\n- Additional optional arguments for stampers\n\n**Behavior:**\n- Stampers called to measure operations\n- start() returns handle with promise\n- resolve/reject used to complete the measurement\n- Can be preceeded by optional arguments for Rambda-like data-last usage\n\n**Dependencies:**\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- Stamper trait defined and compiles\n- StamperHandle with promise-like interface\n- StamperOptions struct\n- Unit tests for stamper infrastructure","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:39:28.593507991-05:00","updated_at":"2026-01-16T07:47:00.185867056-05:00","closed_at":"2026-01-16T07:47:00.185867056-05:00","close_reason":"Closed","dependencies":[{"issue_id":"fop-bound-timing-stamper-trait","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:23.833385174-05:00","created_by":"daemon"},{"issue_id":"fop-bound-timing-stamper-trait","depends_on_id":"fop-bound-timing","type":"parent-child","created_at":"2026-01-16T01:43:41.26501558-05:00","created_by":"daemon"}]}
{"id":"fop-bound-timing-start","title":"Start fop-bound-timing Epic Implementation","description":"**Transition Ticket: Begin fop-bound-timing Epic**\n\nCompleted epics:\n- ✓ fop-core: Core Infrastructure Setup\n- ✓ fop-basic-proc: Basic Processors Implementation\n- ✓ fop-content-exec: Content and Execution Processors\n\n**Next Epic: fop-bound-timing - Bounding and Timing Infrastructure**\n\n**Components to Implement:**\n- TarnBounderProcessor: Resource pool to limit concurrent execution\n- Stamper trait: Interface for supplemental execution information\n- PerformanceMeasureTimestamp: Duration tracking using std::time::Instant\n- TrueTimestamp: Trivial stamper for testing\n\n**Implementation Strategy:**\n1. Start with Stamper trait (fop-bound-timing-stamper-trait)\n2. Implement TrueTimestamp (simple)\n3. Implement PerformanceMeasureTimestamp (requires timing infrastructure)\n4. Implement TarnBounderProcessor (complex, needs semaphores/thread pools)\n\n**Technical Challenges to Address:**\n- Lifetime management with Processor trait\n- Thread-safe resource sharing for bounded execution\n- Efficient timestamping without overhead\n- Proper integration with existing processor chain\n\n**Dependencies:**\n- Requires tokio for async semaphores or custom thread pools\n- No other dependencies (uses std::time)\n\n**Acceptance Criteria:**\n- Stamper trait defined with start/end methods\n- TrueTimestamp always returns true\n- PerformanceMeasureTimestamp measures durations accurately\n- TarnBounderProcessor respects bound limits\n- All processors work in bounded mode\n- Comprehensive unit tests\n- Integration with existing pipelines","status":"in_progress","priority":2,"issue_type":"chore","created_at":"2026-01-16T03:42:49.274948961-05:00","updated_at":"2026-01-16T03:43:14.265344396-05:00"}
{"id":"fop-bound-timing-true-stamper","title":"fop-bound-timing-true-stamper: TrueTimestamper","description":"Implement TrueTimestamper for testing scenarios.\n\n**Components:**\n- TrueTimestamper struct\n- Implementation of Stamper trait\n- Trivial stamper that always resolves true\n\n**Behavior:**\n- start() returns StamperHandle that immediately resolves to true\n- No actual timing measurement\n- Useful for testing scenarios where timing not needed\n- Placeholder for stamper usage\n\n**Purpose:**\n- Testing: when you don't want actual timing overhead\n- Development: allows testing stamper integration without implementation\n- Default fallback for processors that require a stamper\n\n**Technical Details:**\n- Simple implementation of Stamper trait\n- resolve() immediately returns true\n- reject() not used\n\n**Dependencies:**\n- Depends on fop-bound-timing-stamper-trait\n\n**Acceptance Criteria:**\n- Implements Stamper trait\n- Always resolves to true\n- No timing overhead\n- Unit tests for trivial behavior","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:39:55.892703518-05:00","updated_at":"2026-01-16T07:47:17.240027806-05:00","closed_at":"2026-01-16T07:47:17.240027806-05:00","close_reason":"Closed","dependencies":[{"issue_id":"fop-bound-timing-true-stamper","depends_on_id":"fop-bound-timing-stamper-trait","type":"blocks","created_at":"2026-01-16T01:42:27.347402042-05:00","created_by":"daemon"},{"issue_id":"fop-bound-timing-true-stamper","depends_on_id":"fop-bound-timing","type":"parent-child","created_at":"2026-01-16T01:43:42.957278685-05:00","created_by":"daemon"}]}
{"id":"fop-builder","title":"fop-builder: Pipeline Builders and Outputters","description":"Implement builder patterns for constructing pipelines and outputting results.\n\nBuilders allow users to easily configure and assemble pipelines without dealing with low-level composition details. Outputters marshal streams into consumable results.\n\n**Components:**\n- PipelineBuilder: generic builder for constructing configured pipelines\n- Outputter trait: defines interface for marshaling streams to results\n- FromOutput: basic outputter that collects results using TryFrom\n\n**Technical Details:**\n- PipelineBuilder allows incremental configuration of processors\n- Builders don't accept FILE-OR-PATTERN inputs directly - they produce pipelines that do\n- FromOutput uses TryFrom trait (or equivalent) to collect Iterator\u003cItem = Fop\u003e into Vec\u003cFop\u003e\n- Returns Result\u003cVec\u003cFop\u003e, Error\u003e\n\n**Pipelines:**\n- SimplePipeline: ParserProcessor → TinyGlobbyProcessor → ReadContentProcessor\n- EREbPipeline: ParserProcessor → TarnBounder(DoExecuteProcessor) → TinyGlobbyProcessor → TarnBounder(DoExecuteProcessor) → TarnBounder(ReadContentProcessor)\n\n**Dependencies:**\n- Depends on all previous epics (fop-core, fop-basic-proc, fop-content-exec, fop-bound-timing)\n- All processors must be implemented\n\n**Acceptance Criteria:**\n- PipelineBuilder allows configuring processors with options\n- SimplePipeline implemented and functional\n- EREbPipeline implemented with proper bounder wrapping\n- FromOutput collects results and returns Result\n- Integration tests for both pipelines\n- Examples in documentation showing builder usage","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-16T01:37:38.125427759-05:00","updated_at":"2026-01-16T01:37:38.125427759-05:00","dependencies":[{"issue_id":"fop-builder","depends_on_id":"fop-content-exec","type":"blocks","created_at":"2026-01-16T01:44:15.893218894-05:00","created_by":"daemon"},{"issue_id":"fop-builder","depends_on_id":"fop-bound-timing","type":"blocks","created_at":"2026-01-16T01:44:16.240719931-05:00","created_by":"daemon"}]}
{"id":"fop-builder-builder","title":"fop-builder-builder: PipelineBuilder Generic Builder","description":"Implement PipelineBuilder for constructing configured pipelines.\n\n**Components:**\n- PipelineBuilder struct\n- Fluent API for configuring processors\n- Build method that returns callable pipeline\n\n**Behavior:**\n- Allows incremental configuration of processors\n- Each processor can be configured with options\n- Build method creates a pipeline function\n- Pipeline function accepts Iterator\u003cItem = Fop\u003e and returns Iterator\u003cItem = Fop\u003e\n- Builders don't accept FILE-OR-PATTERN inputs - they produce pipelines that do\n\n**API Pattern:**\n```rust\nlet pipeline = PipelineBuilder::new()\n    .add_processor(ParserProcessor::new())\n    .add_processor(CheckExistProcessor::new())\n    .build();\n\nlet results = pipeline.process(vec![\"file.txt\".to_string()]);\n```\n\n**Technical Details:**\n- Use generic types or trait objects for processors\n- Builder pattern with method chaining\n- build() returns closure or struct implementing pipeline interface\n- Pipeline maintains processor chain\n\n**Dependencies:**\n- Depends on all processor implementations\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- Fluent API for building pipelines\n- add_processor methods for each processor type\n- build() returns callable pipeline\n- Pipeline processes FOPs correctly\n- Unit tests for builder API\n- Integration tests with multiple processors","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:40:13.465585492-05:00","updated_at":"2026-01-16T01:40:13.465585492-05:00","dependencies":[{"issue_id":"fop-builder-builder","depends_on_id":"fop-basic-proc-parser","type":"blocks","created_at":"2026-01-16T01:42:29.354073876-05:00","created_by":"daemon"},{"issue_id":"fop-builder-builder","depends_on_id":"fop-basic-proc-glob","type":"blocks","created_at":"2026-01-16T01:42:30.168988726-05:00","created_by":"daemon"},{"issue_id":"fop-builder-builder","depends_on_id":"fop-content-exec-read","type":"blocks","created_at":"2026-01-16T01:42:30.816316311-05:00","created_by":"daemon"},{"issue_id":"fop-builder-builder","depends_on_id":"fop-content-exec-exec","type":"blocks","created_at":"2026-01-16T01:42:31.50518529-05:00","created_by":"daemon"},{"issue_id":"fop-builder-builder","depends_on_id":"fop-bound-timing-bounder","type":"blocks","created_at":"2026-01-16T01:42:33.392268881-05:00","created_by":"daemon"},{"issue_id":"fop-builder-builder","depends_on_id":"fop-builder","type":"parent-child","created_at":"2026-01-16T01:43:43.606545037-05:00","created_by":"daemon"}]}
{"id":"fop-builder-ereb","title":"fop-builder-ereb: EREbPipeline Implementation","description":"Implement EREbPipeline (Execute/Read/Execute Bounded) builder.\n\n**Components:**\n- EREbPipeline struct\n- Pre-configured bounded pipeline with execution stages\n- Shared bounded executor for file operations\n\n**Pipeline Flow:**\n```\nParserProcessor → TarnBounder(DoExecuteProcessor) → TinyGlobbyProcessor → TarnBounder(DoExecuteProcessor) → TarnBounder(ReadContentProcessor)\n```\n\n**Behavior:**\n- Named Execute/Read/Execute, Bounded\n- Recommended pipeline: won't flood system, gives user maximum power\n- \"Do What They Will-ist-most!\"\n- Each stage builds the flyweight with additional fields\n- Shares a single bounded executor for file operations\n\n**Stages:**\n1. ParserProcessor: creates FOP\n2. TarnBounder(DoExecuteProcessor): execute if input is executable\n3. TinyGlobbyProcessor: expand patterns\n4. TarnBounder(DoExecuteProcessor): execute matched files if executable\n5. TarnBounder(ReadContentProcessor): read content\n\n**Implementation:**\n- Use PipelineBuilder internally\n- Single TarnBounderProcessor instance shared across stages\n- Configure bound limit appropriately\n- Enable execution and timestamping\n\n**Dependencies:**\n- Depends on fop-builder-builder\n- Depends on fop-basic-proc-parser\n- Depends on fop-basic-proc-glob\n- Depends on fop-bound-timing-bounder\n- Depends on fop-content-exec-exec\n- Depends on fop-content-exec-read\n\n**Acceptance Criteria:**\n- EREbPipeline creates configured pipeline\n- All processors in correct order\n- Bounding enabled with shared executor\n- Execution stages work correctly\n- ReadContent stage works correctly\n- Unit tests for pipeline flow\n- Integration tests with various inputs\n- Tests showing bounding behavior","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:40:39.878202434-05:00","updated_at":"2026-01-16T01:40:39.878202434-05:00","dependencies":[{"issue_id":"fop-builder-ereb","depends_on_id":"fop-builder-builder","type":"blocks","created_at":"2026-01-16T01:42:35.840293341-05:00","created_by":"daemon"},{"issue_id":"fop-builder-ereb","depends_on_id":"fop-builder","type":"parent-child","created_at":"2026-01-16T01:43:45.931099341-05:00","created_by":"daemon"}]}
{"id":"fop-builder-outputter","title":"fop-builder-outputter: Outputter Trait and FromOutput","description":"Implement Outputter trait and FromOutput for marshaling streams.\n\n**Components:**\n- Outputter trait\n- FromOutput struct implementing Outputter\n- Collection of iterator results\n\n**Outputter Trait:**\n```rust\npub trait Outputter {\n    fn collect\u003cT: IntoIterator\u003cItem = Fop\u003e\u003e(\u0026self, stream: T) -\u003e Result\u003cVec\u003cFop\u003e, Error\u003e;\n}\n```\n\n**FromOutput Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e\n- Collects results into Vec\u003cFop\u003e\n- Returns Result\u003cVec\u003cFop\u003e, Error\u003e\n- Handles errors in stream (propagates first error or aggregates)\n\n**Technical Details:**\n- Use Iterator::collect() for gathering results\n- Handle FOPs with err field - either fail or filter\n- Consider TryFrom trait usage or similar\n- Simple outputter for getting concrete results from pipeline\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- Outputter trait defined\n- FromOutput collects results into Vec\n- Returns Result with error if any FOP has error\n- Works with iterator streams\n- Unit tests for output collection\n- Tests for error propagation","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:40:20.735352339-05:00","updated_at":"2026-01-16T01:40:20.735352339-05:00","dependencies":[{"issue_id":"fop-builder-outputter","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:34.042288203-05:00","created_by":"daemon"},{"issue_id":"fop-builder-outputter","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:34.646269162-05:00","created_by":"daemon"},{"issue_id":"fop-builder-outputter","depends_on_id":"fop-builder","type":"parent-child","created_at":"2026-01-16T01:43:44.299089312-05:00","created_by":"daemon"}]}
{"id":"fop-builder-simple","title":"fop-builder-simple: SimplePipeline Implementation","description":"Implement SimplePipeline builder.\n\n**Components:**\n- SimplePipeline struct\n- Pre-configured pipeline: ParserProcessor → TinyGlobbyProcessor → ReadContentProcessor\n- Builder method to create pipeline\n\n**Pipeline Flow:**\n```\nParserProcessor → TinyGlobbyProcessor → ReadContentProcessor\n```\n\n**Behavior:**\n- What the library advertises: pattern expansion only\n- Accepts user strings, explodes patterns, reads content\n- No execution, no bounding\n- Good default for simple file pattern use cases\n\n**Implementation:**\n- Use PipelineBuilder internally\n- Pre-configure processors with default options\n- Expose simple API for creating the pipeline\n\n**Dependencies:**\n- Depends on fop-builder-builder\n- Depends on fop-basic-proc-parser\n- Depends on fop-basic-proc-glob\n- Depends on fop-content-exec-read\n\n**Acceptance Criteria:**\n- SimplePipeline creates configured pipeline\n- ParserProcessor included\n- TinyGlobbyProcessor included\n- ReadContentProcessor included\n- Works with file inputs (reads content)\n- Works with pattern inputs (expands and reads)\n- Unit tests for pipeline flow\n- Integration tests with various inputs","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:40:29.291906115-05:00","updated_at":"2026-01-16T01:40:29.291906115-05:00","dependencies":[{"issue_id":"fop-builder-simple","depends_on_id":"fop-builder-builder","type":"blocks","created_at":"2026-01-16T01:42:35.265636709-05:00","created_by":"daemon"},{"issue_id":"fop-builder-simple","depends_on_id":"fop-builder","type":"parent-child","created_at":"2026-01-16T01:43:45.679994942-05:00","created_by":"daemon"}]}
{"id":"fop-content-exec","title":"fop-content-exec: Content and Execution Processors","description":"Implement processors for reading file content and executing files.\n\nThese processors enable the library to actually do something useful with the files it finds: read their contents or execute them if they're executables.\n\n**Components:**\n- ReadContentProcessor: reads file contents and adds content field to Fop\n- DoExecuteProcessor: checks executability, runs files, attaches execution output\n- GuardProcessor: throws if FOP has err, otherwise passes through\n\n**Technical Details:**\n- ReadContentProcessor reads from filename field, supports encoding option, can record encoding to fop.encoding\n- DoExecuteProcessor checks executable flag, uses tinyexec equivalent, supports executor strategy, execution_stamper, fail_checker, expect_execution options\n- GuardProcessor simple validation step to stop propagation of errors\n\n**Options:**\n- ReadContentProcessor: encoding('utf8'), record_encoding(false)\n- DoExecuteProcessor: executor, executionStamper, executionName, failChecker, expectExecution\n- All options in constructor passed through to execution library\n\n**Dependencies:**\n- Depends on fop-core\n- Depends on fop-basic-proc for pipeline flow\n- Needs execution library (tokio::process::Command or std::process::Command)\n\n**Acceptance Criteria:**\n- ReadContentProcessor reads file content as bytes or text based on encoding\n- DoExecuteProcessor detects executables and runs them, attaches output to content field\n- GuardProcessor validates FOPs and halts on errors\n- All options configurable via constructor\n- Unit tests for successful and error cases\n- Integration tests with different file types and executables","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T01:37:22.535142659-05:00","updated_at":"2026-01-16T02:59:36.468970316-05:00","closed_at":"2026-01-16T02:59:36.468970316-05:00","close_reason":"Completed: All child tickets closed. ReadContentProcessor, DoExecuteProcessor, and GuardProcessor all implemented with comprehensive tests","dependencies":[{"issue_id":"fop-content-exec","depends_on_id":"fop-core","type":"blocks","created_at":"2026-01-16T01:44:13.731536057-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec","depends_on_id":"fop-basic-proc","type":"blocks","created_at":"2026-01-16T01:44:15.140319965-05:00","created_by":"daemon"}]}
{"id":"fop-content-exec-additions","title":"fop-content-exec-additions: Restore Missing DoExecuteProcessor Features","description":"**DEVIATION ANALYSIS - What Was Cut from fop-content-exec-exec Ticket**\n\nThe original plan for DoExecuteProcessor included several features that were not implemented due to Rust lifetime issues and complexity constraints. This ticket tracks what needs to be restored.\n\n---\n\n## Features Cut from Original Plan\n\n### 1. **executor Strategy Option** ❌ NOT IMPLEMENTED\n**What Was Planned:**\n- `executor(TinyExecutor)` option to accept a strategy for running execution\n- Attached as `execution` field on Fop (not currently present on Fop struct)\n- Would allow pluggable execution strategies (e.g., different execution backends)\n\n**Why It Was Cut:**\n- Focused on getting basic `expect_execution` working\n- Needed to pass `\u0026self` into closure, making `\u0026self` capture tricky\n- Would have required additional parameter capturing or complex lifetime management\n- `std::process::Command` was used directly instead of abstracting through a strategy trait\n\n**What It Would Enable:**\n- Different execution backends (e.g., tokio::spawn for async, custom executors)\n- Testing execution strategies\n- Flexible execution configuration\n- Tracking which executor was used in the Fop metadata\n\n---\n\n### 2. **executionStamper Option** ❌ NOT IMPLEMENTED\n**What Was Planned:**\n- `executionStamper(null)` option to attach execution timestamp\n- If `true`, defaults to `PerformanceMeasureTimestamper`\n- Measures running duration of the execution\n- Attaches to fop timestamp field\n\n**Why It Was Cut:**\n- Stamper trait not yet implemented (fop-bound-timing epic not done)\n- Would need Stamper trait first (which is in fop-bound-timing)\n- Would require capturing `Instant::now()` before execution, calculating duration after\n- More lifetime complexity with stamper reference in closure\n\n**What It Would Enable:**\n- Performance monitoring of executions\n- Tracking execution duration for each Fop\n- Bottleneck identification in pipelines\n- Integration with OTel when that ticket is done\n\n---\n\n### 3. **executionName Option** ❌ NOT IMPLEMENTED\n**What Was Planned:**\n- `executionName('executionStamp')` option to pick timestamp field name\n- Allows customization of which Fop field holds the execution timestamp\n\n**Why It Was Cut:**\n- Stamper infrastructure not in place\n- Would require dynamic field naming on Fop (currently fixed fields)\n- Not essential for basic functionality\n\n---\n\n### 4. **failChecker Strategy Option** ❌ NOT IMPLEMENTED\n**What Was Planned:**\n- `failChecker()` option to determine if execution succeeded\n- Strategy pattern for different failure detection methods\n- Only called if execution is started\n\n**Why It Was Cut:**\n- Simple `status.success()` check was used instead\n- Would require defining a strategy trait like: `fn(\u0026Output) -\u003e bool`\n- More abstraction layer that wasn't necessary for MVP\n\n**What It Would Enable:**\n- Custom failure detection (e.g., checking stderr content, exit codes)\n- Platform-specific success criteria\n- Testing-friendly failure detection strategies\n\n---\n\n### 5. **stdio Passthrough** ❌ NOT IMPLEMENTED\n**What Was Planned:**\n- \"all options in the constructor are passed through to tinyexec\"\n- For controlling stdio, cwd, env vars, etc.\n\n**Why It Was Cut:**\n- Would require variadic arguments or builder pattern on DoExecuteProcessor\n- Would need to capture all unused params and pass them to `.stdin()/.stdout()/.stderr()` setters\n- More complexity in constructor\n\n**What It Would Enable:**\n- Capturing stdout/stderr separately (currently merged)\n- Controlling input to executables\n- Setting working directory for execution\n- Environment variable control\n- Process group control\n\n---\n\n## Problems Faced During Implementation\n\n### Rust Lifetime Issues\nThe `Processor::process()` trait signature:\n```rust\nfn process\u003c'a, I\u003e(\u0026self, input: I) -\u003e impl Iterator\u003cItem = Fop\u003e + 'a\n```\n\n**Problems:**\n1. **Self-reference in closures**: `\u0026self` has the same lifetime as `self`, can't be moved into closure\n2. **Capturing self.name()**: Had to copy to separate variable before closure\n3. **Method calls on self**: Can't call `self.execute()` while `self` is borrowed by closure\n4. **Stamper references**: If we had a stamper field on `\u0026self`, same lifetime issues\n\n**Workarounds Used:**\n- Moved `self.name()` to `let name = \"DoExecuteProcessor\".to_string()` before closure\n- For DoExecuteProcessor, used `filter_map()` to avoid needing `\u0026self` in the body\n- Used `.take()` instead of `.clone()` on fop.filename to safely consume field\n- Inlined execution logic directly instead of calling methods on `\u0026self`\n\n### Fop Struct Limitations\n**Current Fop struct:**\n```rust\npub struct Fop {\n    pub file_or_pattern: String,\n    pub filename: Option\u003cPathBuf\u003e,\n    pub executable: Option\u003cbool\u003e,\n    pub match_results: Option\u003cVec\u003cPathBuf\u003e\u003e,\n    pub pattern: Option\u003cPattern\u003e,\n    pub content: Option\u003cContent\u003e,\n    pub encoding: Option\u003cString\u003e,\n    pub timestamp: Option\u003cTimestampInfo\u003e,\n    pub err: Option\u003cProcessorError\u003e,\n}\n```\n\n**Missing Fields:**\n- No `execution` field to track which executor was used\n- No `execution_stamp` field (timestamp is generic)\n- No ability to attach custom metadata to Fop\n\n---\n\n## Implementation Strategy Options for Restoration\n\n### Option A: Gradual Restoration\nAdd features one at a time, starting with least complex:\n\n1. **failChecker** (easiest)\n   - Add `status.success()` as default\n   - Accept `fail_checker: impl Fn(\u0026Output) -\u003e bool` option\n   - No Fop struct changes needed\n\n2. **executionStamper** (medium)\n   - Requires fop-bound-timing epic to complete first\n   - Add `Instant::now()` tracking\n   - Calculate duration on completion\n\n3. **executor Strategy** (harder)\n   - Add `execution` field to Fop struct\n   - Create `Executor` trait with `CommandExecutor` default\n   - More complex lifetime management\n\n4. **executionName** (hardest)\n   - Requires stamper infrastructure first\n   - Dynamic field naming on Fop\n   - May require Fop redesign\n\n5. **stdio Passthrough** (hardest)\n   - Variadic arguments or builder pattern\n   - Many constructor options\n\n### Option B: Wait for fop-bound-timing Epic\nSince `executionStamper` and `executionName` depend on timing infrastructure, and `executor` strategy might benefit from it too, the pragmatic approach may be to:\n\n1. Complete fop-bound-timing epic first (Stamper trait, PerformanceMeasureTimestamper)\n2. Then restore features that depend on stamper\n\n### Option C: Minimal Implementation\nIf full restoration is too complex, implement minimal versions:\n\n- Simple boolean flag for timestamping (on/off)\n- Simple success/failure criteria (e.g., check for specific stderr patterns)\n- Basic stdio control (capture vs inherit)\n\n---\n\n## Acceptance Criteria\n\n### Minimum Viable Implementation\n- [ ] Add `fail_checker` option with `status.success()` as default\n- [ ] Add optional execution timestamping (on/off, no stamper trait needed)\n- [ ] Update DoExecuteProcessor tests to cover new options\n- [ ] Document what was cut and why in code comments\n- [ ] Update fop-content-exec-exec ticket description to note the cuts\n\n### Optional Enhancements (Lower Priority)\n- [ ] Complete fop-bound-timing epic first\n- [ ] Add `executor` field to Fop struct\n- [ ] Implement `Executor` trait with pluggable strategies\n- [ ] Add `executionName` option\n- [ ] Full stdio passthrough\n- [ ] Integration testing with different execution backends\n\n---\n\n## Related Tickets\n- Depends on: fop-content-exec (epic - completed)\n- Blocks: None (can proceed immediately)\n- Related to: fop-bound-timing epic (timing infrastructure needed for full restoration)\n\n## Notes\nThe original plan was ambitious but implementation challenges with Rust lifetime system led to pragmatic cuts. The current implementation provides the core functionality (check executability, execute, capture output) and passes all tests. Missing features can be added incrementally as needed without breaking existing behavior.\n\nThe lifetime issues were the primary driver of complexity - Rust's ownership system makes capturing `\u0026self` in closures difficult without moving or cloning. The `filter_map()` pattern with `.take()` was a successful workaround for managing Fop mutations.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T03:32:29.596683667-05:00","updated_at":"2026-01-16T03:32:53.419575582-05:00","closed_at":"2026-01-16T03:32:53.419575582-05:00","close_reason":"Closed via update"}
{"id":"fop-content-exec-exec","title":"fop-content-exec-exec: DoExecuteProcessor","description":"Implement DoExecuteProcessor for executing files as commands.\n\n**Components:**\n- DoExecuteProcessor struct\n- Executable detection and validation\n- Command execution using std::process::Command\n- Output capture (stdout/stderr)\n- Execution timestamping support\n\n**Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e as input\n- Checks filename field first, falls back to fileOrPattern\n- Checks if file is executable (permissions check)\n- If executable, runs the file as a command\n- Captures stdout/stderr and adds to content field\n- Adds err field if execution fails\n- expect_execution option: create err if file is not executable\n- Returns Iterator\u003cItem = Fop\u003e\n\n**Options:**\n- executor: strategy for running execution (attached as execution field)\n- executionStamper: stamper for execution duration (if true, default to PerformanceMeasureTimestamper)\n- executionName: name for timestamp field (default 'executionStamp')\n- failChecker: strategy to determine success/failure\n- expectExecution: if true, create err if filename is not executable\n- All constructor options passed through to Command for controlling stdio, etc.\n\n**Technical Details:**\n- Use std::process::Command for execution\n- Use Path::is_file() + permissions for executability check\n- Capture stdout/stderr using Command::output()\n- Handle execution errors by adding to fop.err field\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n- Depends on fop-basic-proc-exist\n\n**Acceptance Criteria:**\n- Detects executables correctly\n- Executes commands and captures output\n- expect_execution option works\n- Handles execution failures gracefully\n- executionStamper integration works\n- All Command options pass through correctly\n- Unit tests for successful and failed executions\n- Unit tests for non-executable files","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:55.14909173-05:00","updated_at":"2026-01-16T02:57:17.318341671-05:00","closed_at":"2026-01-16T02:57:17.318341671-05:00","close_reason":"Closed via update","dependencies":[{"issue_id":"fop-content-exec-exec","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:16.179247471-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-exec","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:16.923916329-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-exec","depends_on_id":"fop-basic-proc-exist","type":"blocks","created_at":"2026-01-16T01:42:17.507999325-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-exec","depends_on_id":"fop-content-exec","type":"parent-child","created_at":"2026-01-16T01:43:39.046309152-05:00","created_by":"daemon"}]}
{"id":"fop-content-exec-guard","title":"fop-content-exec-guard: GuardProcessor","description":"Implement GuardProcessor for error propagation control.\n\n**Components:**\n- GuardProcessor struct\n- Simple validation that throws on errors\n\n**Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e as input\n- If FOP has err field set, throws/returns error immediately\n- If FOP has no err, passes through unchanged\n- Returns Iterator\u003cItem = Fop\u003e (may short-circuit)\n\n**Purpose:**\n- Stops propagation of FOPs with errors\n- Prevents further processing of already-failed items\n- Useful for pipeline validation and error handling\n\n**Technical Details:**\n- Simple check of fop.err field\n- Returns Result or panics depending on error handling strategy\n- Should be used carefully in streaming contexts\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- Throws when FOP has err field\n- Passes through when FOP has no err\n- Works with iterator streams\n- Unit tests for error and success cases","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:39:00.652298444-05:00","updated_at":"2026-01-16T02:58:54.687826115-05:00","closed_at":"2026-01-16T02:58:54.687826115-05:00","close_reason":"Completed: GuardProcessor implemented to throw on errors and filter out FOPs with err field","dependencies":[{"issue_id":"fop-content-exec-guard","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:18.344196952-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-guard","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:18.953675419-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-guard","depends_on_id":"fop-content-exec","type":"parent-child","created_at":"2026-01-16T01:43:39.66007222-05:00","created_by":"daemon"}]}
{"id":"fop-content-exec-read","title":"fop-content-exec-read: ReadContentProcessor","description":"Implement ReadContentProcessor for reading file contents.\n\n**Components:**\n- ReadContentProcessor struct\n- File reading with encoding support\n- Content field population on Fop\n- Encoding record option\n\n**Behavior:**\n- Accepts Iterator\u003cItem = Fop\u003e as input\n- Reads from filename field\n- Supports encoding option (default 'utf8')\n- record_encoding option to write encoding field to Fop\n- Adds content field with Content::Bytes or Content::Text variant\n- Returns Iterator\u003cItem = Fop\u003e\n\n**Options:**\n- encoding('utf8'): specifies encoding to use (e.g., utf8, latin1)\n- record_encoding(false): if true, writes the encoding to fop.encoding field\n- If encoding is null/None, read as bytes (Content::Bytes)\n- If encoding is specified, read as text (Content::Text)\n\n**Technical Details:**\n- Use std::fs for file reading\n- Use encoding crate or similar for text encoding support\n- Handle read errors by adding to fop.err field\n- For null encoding, read raw bytes\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n- Depends on fop-basic-proc-exist (for filename field)\n\n**Acceptance Criteria:**\n- Reads file content as bytes when encoding is None\n- Reads file content as text when encoding is specified\n- record_encoding option works correctly\n- Handles read errors gracefully (adds to fop.err)\n- Works with iterator streams\n- Unit tests for text and byte reading\n- Unit tests for error cases","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:45.556273743-05:00","updated_at":"2026-01-16T02:33:22.133615333-05:00","closed_at":"2026-01-16T02:33:22.133615333-05:00","close_reason":"Completed: ReadContentProcessor implemented with text/binary reading, encoding support, record_encoding option, and comprehensive tests","dependencies":[{"issue_id":"fop-content-exec-read","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:14.095964852-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-read","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:14.657884681-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-read","depends_on_id":"fop-basic-proc-exist","type":"blocks","created_at":"2026-01-16T01:42:15.35003299-05:00","created_by":"daemon"},{"issue_id":"fop-content-exec-read","depends_on_id":"fop-content-exec","type":"parent-child","created_at":"2026-01-16T01:43:37.036402511-05:00","created_by":"daemon"}]}
{"id":"fop-core","title":"fop-core: Core Infrastructure Setup","description":"Establish the foundational infrastructure for the FILE-OR-PATTERN library.\n\nThis epic sets up the core types, traits, and project structure that all other components depend on. Without this foundation, no processors or pipelines can be built.\n\n**Components:**\n- Fop struct with all fields (file_or_pattern, filename, executable, match_results, pattern, content, encoding, timestamp, err)\n- Content enum (Bytes, Text)\n- Processor trait defining the interface for all processors\n- Error types with ProcessorError including processor field\n- Crate structure (lib.rs, fop.rs, processor.rs, error.rs, etc.)\n- Cargo.toml with dependencies (glob, tokio, anyhow, itertools)\n\n**Acceptance Criteria:**\n- Fop struct compiles with all fields and appropriate types\n- Content enum with Bytes and Text variants\n- Processor trait with required methods for transforming iterators\n- Error handling system with ProcessorError that tracks which processor failed\n- Crate structure established with module organization\n- All dependencies specified in Cargo.toml\n- Basic unit tests for Fop creation and manipulation","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T01:36:24.019774226-05:00","updated_at":"2026-01-16T01:54:39.570069525-05:00","closed_at":"2026-01-16T01:54:39.570069525-05:00","close_reason":"Completed: All child tickets closed. Core infrastructure including Fop struct, Content enum, Processor trait, error handling, and project structure all implemented and tested."}
{"id":"fop-core-crate","title":"fop-core-crate: Project Structure and Dependencies","description":"Set up the crate structure and define dependencies.\n\n**Components:**\n- Create Cargo.toml with library definition\n- Define dependencies: glob, tokio, anyhow, itertools\n- Create module structure: lib.rs, fop.rs, processor.rs, error.rs, stamper.rs, builder.rs, pipelines/mod.rs\n- Create bin/fop-demo.rs directory for demo program\n- Add standard-readme guidelines to documentation\n\n**Crate Structure:**\n```\nfile-or-pattern/\n├── Cargo.toml\n├── src/\n│   ├── lib.rs           # Public API exports\n│   ├── fop.rs           # FOP core types\n│   ├── processor.rs     # Processor trait\n│   ├── error.rs         # Error types\n│   ├── stamper.rs       # Stamper trait (placeholder)\n│   └── builder.rs       # Pipeline builders (placeholder)\n└── bin/\n    └── fop-demo.rs      # Demo CLI program\n```\n\n**Dependencies:**\n- glob or globset for pattern matching\n- tokio for async/await support\n- anyhow or thiserror for error handling\n- itertools for iterator utilities\n\n**Dependencies:**\n- Depends on fop-core-struct\n- Depends on fop-core-traits\n\n**Acceptance Criteria:**\n- Cargo.toml created with all dependencies\n- Module structure established\n- All module files created (even if empty)\n- Demo binary scaffold created\n- Cargo check passes","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-16T01:38:23.686482981-05:00","updated_at":"2026-01-16T01:54:21.485715282-05:00","closed_at":"2026-01-16T01:54:21.485715282-05:00","close_reason":"Completed: All dependencies added, module structure created, demo binary scaffolded, cargo check passes","dependencies":[{"issue_id":"fop-core-crate","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:04.381656402-05:00","created_by":"daemon"},{"issue_id":"fop-core-crate","depends_on_id":"fop-core-traits","type":"blocks","created_at":"2026-01-16T01:42:04.946442523-05:00","created_by":"daemon"},{"issue_id":"fop-core-crate","depends_on_id":"fop-core","type":"parent-child","created_at":"2026-01-16T01:43:33.958327959-05:00","created_by":"daemon"}]}
{"id":"fop-core-struct","title":"fop-core-struct: Fop and Content Types","description":"Define the core FOP data structures.\n\n**Components:**\n- Fop struct with all fields: file_or_pattern, filename, executable, match_results, pattern, content, encoding, timestamp, err\n- Content enum with Bytes(Vec\u003cu8\u003e) and Text(String) variants\n- Appropriate types for each field (String, Option\u003cPathBuf\u003e, Option\u003cbool\u003e, etc.)\n- Derive Debug, Clone traits for testing and usage\n\n**Fields:**\n| field | type | description |\n|-------|------|-------------|\n| file_or_pattern | String | Original user input |\n| filename | Option\u003cPathBuf\u003e | Concrete existing file path |\n| executable | Option\u003cbool\u003e | Whether filename is executable |\n| match_results | Option\u003cVec\u003cPathBuf\u003e\u003e | Pattern matcher results |\n| pattern | Option\u003cPattern\u003e | The matcher that detected the match |\n| content | Option\u003cContent\u003e | Resulting content (bytes or string) |\n| encoding | Option\u003cString\u003e | File encoding read from |\n| timestamp | Option\u003cTimestampInfo\u003e | Execution duration information |\n| err | Option\u003cProcessorError\u003e | Error with processor field |\n\n**Dependencies:**\n- None (foundation ticket)\n\n**Acceptance Criteria:**\n- Fop struct compiles with all fields\n- Content enum with Bytes and Text variants\n- Derives Debug, Clone\n- Basic unit tests for creation and manipulation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:13.336653857-05:00","updated_at":"2026-01-16T01:49:53.015362477-05:00","closed_at":"2026-01-16T01:49:53.015362477-05:00","close_reason":"Completed: Fop struct, Content enum, Pattern, TimestampInfo, and ProcessorError all implemented with tests passing","dependencies":[{"issue_id":"fop-core-struct","depends_on_id":"fop-core","type":"parent-child","created_at":"2026-01-16T01:43:32.825676317-05:00","created_by":"daemon"}]}
{"id":"fop-core-traits","title":"fop-core-traits: Processor Trait and Error Types","description":"Define the Processor trait and error handling infrastructure.\n\n**Components:**\n- Processor trait with methods for transforming Iterator\u003cItem = Fop\u003e\n- ProcessorError struct with processor field to track where error occurred\n- TimestampInfo struct for execution duration information\n- Pattern placeholder struct (will be filled in by glob processor)\n\n**Processor Trait:**\n```rust\npub trait Processor: Send + Sync {\n    fn process\u003c'a, I\u003e(\u0026self, input: I) -\u003e impl Iterator\u003cItem = Fop\u003e + 'a\n    where I: Iterator\u003cItem = Fop\u003e + 'a;\n    \n    fn name(\u0026self) -\u003e \u0026str;\n}\n```\n\n**ProcessorError:**\n- Contains error details\n- processor field indicating which processor generated the error\n- Source error information\n\n**TimestampInfo:**\n- Fields for execution duration measurement\n- Support for PerformanceMeasure duration info\n\n**Dependencies:**\n- Depends on fop-core-struct for Fop type\n\n**Acceptance Criteria:**\n- Processor trait defined and compiles\n- ProcessorError struct with processor field\n- TimestampInfo struct defined\n- Placeholder Pattern type\n- Unit tests for error creation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:38:18.424504584-05:00","updated_at":"2026-01-16T01:51:39.31720158-05:00","closed_at":"2026-01-16T01:51:39.31720158-05:00","close_reason":"Completed: Processor trait and BoundedProcessor trait defined with comprehensive tests","dependencies":[{"issue_id":"fop-core-traits","depends_on_id":"fop-core-struct","type":"blocks","created_at":"2026-01-16T01:42:03.165498552-05:00","created_by":"daemon"},{"issue_id":"fop-core-traits","depends_on_id":"fop-core","type":"parent-child","created_at":"2026-01-16T01:43:33.345771268-05:00","created_by":"daemon"}]}
{"id":"fop-demo","title":"fop-demo: Demo CLI Program","description":"Implement a demo CLI program showcasing the FILE-OR-PATTERN library functionality.\n\nThe demo program serves as both a testing tool and documentation of how to use the library. It demonstrates all major features and provides a reference implementation.\n\n**Features:**\n- Accept FILE-OR-PATTERN arguments from command line\n- Support multiple inputs\n- Use EREbPipeline by default\n- Option to switch execution modes (bounded/unbounded)\n- Display match results clearly\n- Show content read or execution output\n- Help documentation with usage examples\n\n**Technical Details:**\n- CLI argument parsing using clap or similar crate\n- Integration with library pipelines\n- Error handling and user-friendly error messages\n- Support for --bounded flag to enable TarnBounderProcessor\n- Configurable bound limit (default or via argument)\n\n**Usage Examples:**\n```bash\n# Single file\nfop-demo Cargo.toml\n\n# Pattern\nfop-demo \"**/*.rs\"\n\n# Multiple inputs\nfop-demo Cargo.toml src/**/*.rs\n\n# With bounded mode\nfop-demo --bounded \"**/*.rs\"\n```\n\n**Dependencies:**\n- Depends on fop-builder for pipeline construction\n- CLI parsing crate (clap recommended)\n- All library functionality working\n\n**Acceptance Criteria:**\n- Demo program compiles and runs\n- Accepts FILE-OR-PATTERN arguments correctly\n- Shows match results in readable format\n- Displays content or execution output appropriately\n- --bounded flag works correctly\n- Help text provides clear usage examples\n- Handles errors gracefully\n- Demo program included in crate binary","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-16T01:38:00.660665741-05:00","updated_at":"2026-01-16T01:38:00.660665741-05:00","dependencies":[{"issue_id":"fop-demo","depends_on_id":"fop-builder","type":"blocks","created_at":"2026-01-16T01:44:16.548884949-05:00","created_by":"daemon"}]}
{"id":"fop-demo-cli","title":"fop-demo-cli: CLI Argument Parsing and Structure","description":"Set up CLI argument parsing and program structure for fop-demo.\n\n**Components:**\n- CLI argument parsing using clap crate\n- Main program structure\n- Error handling framework\n- Help text and documentation\n\n**CLI Arguments:**\n- Positional arguments: FILE-OR-PATTERN inputs (multiple allowed)\n- --bounded flag: enable TarnBounderProcessor\n- --bound-limit \u003cN\u003e: configure bound limit for bounded mode\n- --verbose / -v: enable verbose output\n- --help / -h: show help\n\n**Help Text:**\n```\nFile Or Pattern Demo - demonstrates FILE-OR-PATTERN library functionality\n\nUSAGE:\n    fop-demo [OPTIONS] [FILE-OR-PATTERN]...\n\nARGS:\n    \u003cFILE-OR-PATTERN\u003e...    Files or patterns to process\n\nOPTIONS:\n    -b, --bounded              Use bounded mode (limit concurrent operations)\n    -l, --bound-limit \u003cLIMIT\u003e  Set bound limit [default: 10]\n    -v, --verbose              Enable verbose output\n    -h, --help                  Print help\n```\n\n**Technical Details:**\n- Use clap for argument parsing\n- Struct-based configuration\n- Proper error messages for invalid arguments\n\n**Dependencies:**\n- Depends on fop-builder for pipeline construction\n\n**Acceptance Criteria:**\n- CLI argument parsing works with clap\n- Accepts multiple FILE-OR-PATTERN arguments\n- --bounded flag recognized\n- --bound-limit option works\n- Help text displays correctly\n- Proper error messages for invalid input","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:40:58.689065937-05:00","updated_at":"2026-01-16T01:40:58.689065937-05:00","dependencies":[{"issue_id":"fop-demo-cli","depends_on_id":"fop-builder-simple","type":"blocks","created_at":"2026-01-16T01:43:01.752726594-05:00","created_by":"daemon"},{"issue_id":"fop-demo-cli","depends_on_id":"fop-builder-ereb","type":"blocks","created_at":"2026-01-16T01:43:02.137441778-05:00","created_by":"daemon"},{"issue_id":"fop-demo-cli","depends_on_id":"fop-demo","type":"parent-child","created_at":"2026-01-16T01:43:46.53720829-05:00","created_by":"daemon"}]}
{"id":"fop-demo-display","title":"fop-demo-display: Output Display and Formatting","description":"Implement output display and formatting for the demo program.\n\n**Components:**\n- Result formatting for match results\n- Content display (truncated for readability)\n- Execution output display\n- Error message formatting\n- Verbose mode output\n\n**Display Features:**\n- Show matched files count\n- Display filename for each match\n- Show content preview (first ~100 chars)\n- If executable: show execution output\n- If error: show error message\n- Verbose mode: show more details (timestamps, processor chain, etc.)\n\n**Formatting Options:**\n- Color output (optional)\n- Truncation for long content\n- Error highlighting\n- Success/failure indicators\n\n**Technical Details:**\n- String formatting for each FOP\n- Handle different content types (bytes vs text)\n- Show timestamp info if available\n- Show error with processor name if present\n\n**Dependencies:**\n- Depends on fop-demo-integration\n\n**Acceptance Criteria:**\n- Results displayed clearly and readably\n- Content truncated appropriately\n- Execution output shown for executables\n- Errors displayed prominently\n- Verbose mode shows additional details\n- Formatting handles empty results gracefully","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:41:13.467605188-05:00","updated_at":"2026-01-16T01:41:13.467605188-05:00","dependencies":[{"issue_id":"fop-demo-display","depends_on_id":"fop-demo-integration","type":"blocks","created_at":"2026-01-16T01:43:03.557737599-05:00","created_by":"daemon"},{"issue_id":"fop-demo-display","depends_on_id":"fop-demo","type":"parent-child","created_at":"2026-01-16T01:43:47.991449408-05:00","created_by":"daemon"}]}
{"id":"fop-demo-examples","title":"fop-demo-examples: Usage Examples and Documentation","description":"Create usage examples and documentation for the demo program.\n\n**Components:**\n- Examples in README or separate examples file\n- Test files for demo verification\n- Documentation of expected behavior\n\n**Usage Examples:**\n```bash\n# Single file\nfop-demo Cargo.toml\n\n# Pattern expansion\nfop-demo \"**/*.rs\"\n\n# Multiple inputs\nfop-demo Cargo.toml src/**/*.rs\n\n# Bounded mode\nfop-demo --bounded \"**/*.rs\"\n\n# Custom bound limit\nfop-demo --bounded --bound-limit 5 \"**/*.rs\"\n\n# Verbose mode\nfop-demo -v \"**/*.rs\"\n```\n\n**Test Files:**\n- Create test files for demo to use\n- Executable test files\n- Various file types (text, binary)\n\n**Documentation:**\n- Document expected output for each example\n- Include in README or separate doc\n- Show error handling examples\n\n**Dependencies:**\n- Depends on fop-demo-display\n\n**Acceptance Criteria:**\n- Examples documented\n- Test files created\n- Demo behavior matches documentation\n- Examples can be run successfully\n- README includes demo section","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-16T01:41:22.428185087-05:00","updated_at":"2026-01-16T01:41:22.428185087-05:00","dependencies":[{"issue_id":"fop-demo-examples","depends_on_id":"fop-demo-display","type":"blocks","created_at":"2026-01-16T01:43:03.86342122-05:00","created_by":"daemon"},{"issue_id":"fop-demo-examples","depends_on_id":"fop-demo","type":"parent-child","created_at":"2026-01-16T01:43:48.613156781-05:00","created_by":"daemon"}]}
{"id":"fop-demo-integration","title":"fop-demo-integration: Pipeline Integration and Execution","description":"Integrate library pipelines into the demo program.\n\n**Components:**\n- Pipeline selection logic (SimplePipeline vs EREbPipeline)\n- Argument to pipeline conversion\n- Error handling and reporting\n- Result display formatting\n\n**Behavior:**\n- Default: use EREbPipeline\n- If --bounded flag: use EREbPipeline with bounded mode\n- Otherwise: could use SimplePipeline for simple cases\n- Convert CLI arguments to input for pipeline\n- Execute pipeline and collect results\n- Display results in readable format\n\n**Technical Details:**\n- Import pipeline builders from library\n- FromOutput to collect results\n- Handle ProcessorError and other errors\n- Format output clearly for users\n\n**Output Format:**\n```\nMatched 3 files:\n\n1. Cargo.toml\n   Content: [first 100 chars of file...]\n   \n2. src/lib.rs\n   Content: [first 100 chars of file...]\n   \n3. README.md\n   Content: [first 100 chars of file...]\n```\n\n**Dependencies:**\n- Depends on fop-demo-cli\n- Depends on fop-builder for pipelines\n\n**Acceptance Criteria:**\n- Pipeline selection works correctly\n- Arguments convert to pipeline input\n- Pipeline executes successfully\n- Results displayed in readable format\n- Errors handled gracefully with user-friendly messages\n- Multiple inputs supported","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T01:41:06.970911246-05:00","updated_at":"2026-01-16T01:41:06.970911246-05:00","dependencies":[{"issue_id":"fop-demo-integration","depends_on_id":"fop-demo-cli","type":"blocks","created_at":"2026-01-16T01:43:03.232134918-05:00","created_by":"daemon"},{"issue_id":"fop-demo-integration","depends_on_id":"fop-demo","type":"parent-child","created_at":"2026-01-16T01:43:47.293227576-05:00","created_by":"daemon"}]}
{"id":"fop-demo-tests","title":"fop-demo-tests: Demo Program Tests","description":"Create tests for the demo program functionality.\n\n**Components:**\n- Integration tests for CLI\n- Tests for various input scenarios\n- Tests for error handling\n- Tests for output formatting\n\n**Test Scenarios:**\n1. Single file input\n2. Pattern expansion\n3. Multiple inputs\n4. Bounded mode\n5. Non-existent file\n6. Executable file\n7. Invalid pattern\n8. Verbose mode\n9. Error propagation\n\n**Test Types:**\n- Command execution tests (run fop-demo and check output)\n- Integration tests with library\n- Error case tests\n- Formatting tests\n\n**Technical Details:**\n- Use assert_cmd crate for CLI testing\n- Use tempfile crate for creating test files\n- Capture stdout/stderr for validation\n- Test exit codes\n\n**Dependencies:**\n- Depends on fop-demo-examples\n- Test crates: assert_cmd, tempfile\n\n**Acceptance Criteria:**\n- Tests for all scenarios listed above\n- Tests pass reliably\n- Tests are maintainable\n- Test fixtures created\n- Coverage of demo functionality","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-16T01:41:31.856079527-05:00","updated_at":"2026-01-16T01:41:31.856079527-05:00","dependencies":[{"issue_id":"fop-demo-tests","depends_on_id":"fop-demo-examples","type":"blocks","created_at":"2026-01-16T01:43:04.332503244-05:00","created_by":"daemon"},{"issue_id":"fop-demo-tests","depends_on_id":"fop-demo","type":"parent-child","created_at":"2026-01-16T01:43:49.306663789-05:00","created_by":"daemon"}]}
